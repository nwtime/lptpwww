<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=content-security-policy content="default-src 'self'; connect-src 'self' https://linuxptp.nwtime.org https://www.clarity.ms https://j.clarity.ms https://www.google-analytics.com; child-src 'self'; font-src 'self' https://fonts.gstatic.com; form-action 'self'; frame-src 'self'; img-src 'self' 'unsafe-inline' 'unsafe-eval' https://linuxptp.nwtime.org https://www.google-analytics.com https://www.googletagmanager.com https://www.google.com https://clients1.google.com https://www.googleapis.com https://cse.google.com https://encrypted-tbn0.gstatic.com https://encrypted-tbn3.gstatic.com https://c.clarity.ms https://c.bing.com; object-src 'none'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cse.google.com https://www.google.com; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.google-analytics.com https://www.googletagmanager.com https://cse.google.com https://www.google.com https://www.clarity.ms;"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel=canonical href=https://linuxptp.nwtime.org/documentation/pmc/><meta property="og:title" content="pmc(8): PTP management client"><meta property="og:description" content="Linux PTP man page for the PTP management client."><meta property="og:type" content="article"><meta property="og:url" content="https://linuxptp.nwtime.org/documentation/pmc/"><meta property="og:image" content="https://linuxptp.nwtime.org/images/featured.webp"><meta property="article:section" content="documentation"><meta property="article:published_time" content="2023-02-16T00:00:00+00:00"><meta property="article:modified_time" content="2023-02-16T00:00:00+00:00"><meta property="og:site_name" content="Linux PTP Project"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://linuxptp.nwtime.org/images/featured.webp"><meta name=twitter:title content="pmc(8): PTP management client"><meta name=twitter:description content="Linux PTP man page for the PTP management client."><script>window.onload=demo;function demo(){document.getElementById("gsc-i-id1").setAttribute("placeholder","Search...")}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-3L2S4S3B0T"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-3L2S4S3B0T',{anonymize_ip:!0})</script><script type=text/javascript>(function(a,e,b,f,g,c,d){a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},c=e.createElement(f),c.async=1,c.src="https://www.clarity.ms/tag/"+g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d)})(window,document,"clarity","script","coqaee2wun")</script><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com/ crossorigin><link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,400i,700,800,800i,900i&display=swap" rel=stylesheet><title>pmc(8): PTP management client</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Linux PTP man page for the PTP management client."><meta name=generator content="Hugo 0.83.1"><link rel=stylesheet href=/scss/nwtime.min.a5efbbfbaa08b24019d7dc707039f57c.css media=screen></head><body><nav class="navbar navbar-expand-lg navbar-light"><div class=container-fluid><div><a class=navbar-brand href=https://www.nwtime.org><img height=80 width=80 src=https://linuxptp.nwtime.org/images/logo.png alt></a>
<a class=navbar-brand style=color:#1a79c0!important;font-size:18px;font-weight:700;margin-left:20px href=https://linuxptp.nwtime.org/>LinuxPTP Project</a></div><div><button class="btn btn-light btn-lg" type=button aria-expanded=false><a class=nav-item style=text-decoration:none;text-transform:uppercase href=https://linuxptp.nwtime.org/about/>About</a></button>
<button class="btn btn-light btn-lg" type=button aria-expanded=false><a class=nav-item style=text-decoration:none;text-transform:uppercase href=https://linuxptp.nwtime.org/install/>Install</a></button>
<button class="btn btn-light btn-lg" type=button aria-expanded=false><a class=nav-item style=text-decoration:none;text-transform:uppercase href=https://linuxptp.nwtime.org/getting-involved/>Getting Involved</a></button>
<button class="btn btn-light btn-lg" type=button aria-expanded=false><a class=nav-item style=text-decoration:none;text-transform:uppercase href=https://linuxptp.nwtime.org/documentation/>Documentation</a></button></div><script async src="https://cse.google.com/cse.js?cx=7474c4c5ca53f79ef"></script><div class=gcse-search></ul></div></nav><div class=header-border></div><section class="section pt-0 pb-auto"><div class=container><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://linuxptp.nwtime.org/documentation/>Documentation</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://linuxptp.nwtime.org/documentation/pmc/>pmc(8): PTP management client</a></li></ol></nav><h3 id=pmc8-ptp-management-client>pmc(8): PTP management client</h3><h4 id=synopsis>SYNOPSIS</h4><p><code>pmc [ -f <em>config-file</em> ] [ -2 | -4 | -6 | -u ] [ -b <em>boundary-hops</em> ] [ -d <em>domain-number</em> ] [ -i <em>interface</em> ] [ -s <em>uds-address</em> ] [ -t <em>transport-specific-field</em> ] [ <em>long-options</em> ] [ -v ] [ -z ] [ command ] &mldr;</code></p><h4 id=description>DESCRIPTION</h4><p><code>pmc</code> is a program which implements a PTP management client according to IEEE standard 1588. The program reads from the standard input or from the command line actions specified by name and management ID, sends them over the selected transport and prints any received replies. There are three actions supported:</p><dl><dt><code><strong>GET</strong></code></dt><dd><p>retrieves the specified information,</p></dd><dt><code><strong>SET</strong></code></dt><dd><p>updates the specified information and</p></dd><dt><code><strong>CMD</strong></code> (<code><strong>COMMAND</strong></code>)</dt><dd><p>initiates the specified event.</p></dd></dl><p>By default the management commands are addressed to all ports. The <code>TARGET</code> command can be used to select a particular clock and port for the subsequent messages.</p><p>Command <code>help</code> can be used to get a list of supported actions and management IDs.</p><h4 id=options>OPTIONS</h4><dl><dt><code><strong>-f <em>config-file</em></strong></code></dt><dd><p>Read configuration from the specified file. No configuration file is read by default.</p></dd><dt><code><strong>-2</strong></code></dt><dd><p>Select the IEEE 802.3 network transport.</p></dd><dt><code><strong>-4</strong></code></dt><dd></dd></dl><p>Select the UDP IPv4 network transport. This is the default transport.</p><dl><dt><code><strong>-6</strong></code></dt><dd><p>Select the UDP IPv6 network transport.</p></dd><dt><code><strong>-u</strong></code></dt><dd><p>Select the Unix Domain Socket transport.</p></dd><dt><code><strong>-b <em>boundary-hops</em></strong></code></dt><dd><p>Specify the boundary hops value in sent messages. The default is 1.</p></dd><dt><code><strong>-d <em>domain-number</em></strong></code></dt><dd><p>Specify the domain number in sent messages. The default is 0.</p></dd><dt><code><strong>-i <em>interface</em></strong></code></dt><dd><p>Specify the network interface. The default is <code>/var/run/pmc.$pid</code> for the Unix Domain Socket transport and <code>eth0</code> for the other transports.</p></dd><dt><code><strong>-s <em>uds-address</em></strong></code></dt><dd><p>Specifies the address of the server&rsquo;s UNIX domain socket. The default is <code>/var/run/ptp4l</code>.</p></dd><dt><code><strong>-t <em>transport-specific-field</em></strong></code></dt><dd><p>Specify the transport specific field in sent messages as a hexadecimal number. The default is 0x0.</p></dd><dt><code><strong>-h</strong></code></dt><dd><p>Display a help message.</p></dd><dt><code><strong>-v</strong></code></dt><dd><p>Prints the software version and exits.</p></dd><dt><code><strong>-z</strong></code></dt><dd><p>The official interpretation of the 1588 standard mandates sending <code>GET</code> actions with valid (but meaningless) <code>TLV</code> values. Therefore the <code>pmc</code> program normally sends <code>GET</code> requests with properly formed <code>TLV</code> values. This option enables the legacy option of sending zero length <code>TLV</code> values instead.</p></dd></dl><h4 id=long-options>LONG OPTIONS</h4><p>Each and every configuration file option (see below in sections <a href=#program-options>PROGRAM OPTIONS</a> and <a href=#port-options>PORT OPTIONS</a>) may also appear as a &ldquo;long&rdquo; style command line argument. For example, the <code>transportSpecific</code> option may be set using either of these two forms:</p><p><code>--transportSpecific 1</code></p><p><code>--transportSpecific=1</code></p><p>Option values given on the command line override values in the global section of the configuration file (which, in turn, overrides default values).</p><h4 id=configuration-file>CONFIGURATION FILE</h4><p>The configuration file is divided into sections. Each section starts with a line containing its name enclosed in brackets and it follows with settings. Each setting is placed on a separate line, it contains the name of the option and the value separated by whitespace characters. Empty lines and lines starting with <code>#</code> are ignored.</p><p>The global section (indicated as <code>[global]</code>) sets the global program options as well as the default port specific options. Other sections are port specific sections and they override the default port options. The name of the section is the name of the configured port (e.g. <code>[eth0]</code>).</p><h4 id=program-options>PROGRAM OPTIONS</h4><dl><dt><code><strong>domainNumber</strong></code></dt><dd><p>The domain attribute of the local clock. The default is 0.</p></dd></dl><h4 id=port-options>PORT OPTIONS</h4><dl><dt><code><strong>network_transport</strong></code></dt><dd><p>Select the network transport. Possible values are <code>UDPv4</code>, <code>UDPv6</code>, and <code>L2</code>. The default is <code>UDPv4</code>.</p></dd><dt><code><strong>ptp_dst_mac</strong></code></dt><dd><p>The MAC address to which PTP management messages should be sent. Relevant only with L2 transport. The default is <code>01:1B:19:00:00:00</code>.</p></dd><dt><code><strong>transportSpecific</strong></code></dt><dd><p>The transport specific field. Must be in the range 0 to 255. The default is 0.</p></dd></dl><h4 id=management-ids>MANAGEMENT IDS</h4><ul><li><p><code>ANNOUNCE_RECEIPT_TIMEOUT</code></p></li><li><p><code>CLOCK_ACCURACY</code></p></li><li><p><code>CLOCK_DESCRIPTION</code></p></li><li><p><code>CURRENT_DATA_SET</code></p></li><li><p><code>DEFAULT_DATA_SET</code></p></li><li><p><code>DELAY_MECHANISM</code></p></li><li><p><code>DOMAIN</code></p></li><li><p><code>GRANDMASTER_SETTINGS_NP</code></p></li><li><p><code>LOG_ANNOUNCE_INTERVAL</code></p></li><li><p><code>LOG_MIN_PDELAY_REQ_INTERVAL</code></p></li><li><p><code>LOG_SYNC_INTERVAL</code></p></li><li><p><code>NULL_MANAGEMENT</code></p></li><li><p><code>PARENT_DATA_SET</code></p></li><li><p><code>PORT_DATA_SET</code></p></li><li><p><code>PORT_DATA_SET_NP</code></p></li><li><p><code>PORT_HWCLOCK_NP</code></p></li><li><p><code>PORT_PROPERTIES_NP</code></p></li><li><p><code>PORT_SERVICE_STATS_NP</code></p></li><li><p><code>PORT_STATS_NP</code></p></li><li><p><code>PRIORITY1</code></p></li><li><p><code>PRIORITY2</code></p></li><li><p><code>SLAVE_ONLY</code></p></li><li><p><code>TIMESCALE_PROPERTIES</code></p></li><li><p><code>TIME_PROPERTIES_DATA_SET</code></p></li><li><p><code>TIME_STATUS_NP</code></p></li><li><p><code>TRACEABILITY_PROPERTIES</code></p></li><li><p><code>UNICAST_MASTER_TABLE_NP</code></p></li><li><p><code>USER_DESCRIPTION</code></p></li><li><p><code>VERSION_NUMBER</code></p></li></ul><h4 id=warning>WARNING</h4><p>Be cautious when the same configuration file is used for both <code>ptp4l</code> and <code>pmc</code>. Keep in mind that values specified in the configuration file take precedence over their default values. If a certain option which is common to <code>ptp4l</code> and <code>pmc</code> is specified to a non-default value in the configuration file (e.g. for <code>ptp4l</code>), then this non-default value applies also for <code>pmc</code>. This might be not what is expected.</p><p>To avoid securely this unexpected behaviour, different configuration files for <code>ptp4l</code> and <code>pmc</code> are recommended.</p><h4 id=see-also>SEE ALSO</h4><p><a href=/documentation/ptp4l/>ptp4l(8)</a></p></div></section><nav class="site-footer navbar navbar-expand-sm mt-auto"><div class=container><ul class=navbar-nav><li class=nav-item title="Mailing lists" aria-label="Mailing lists"><a class=nav-link target=_blank rel="noopener noreferrer" href=https://sourceforge.net/projects/linuxptp/lists/linuxptp-users><img src=/images/icons/envelope.svg width=20 height=20></img></a></li><li class=nav-item title=LinkedIn aria-label=LinkedIn><a class=nav-link target=_blank rel="noopener noreferrer" href=https://www.linkedin.com/groups/4683708/><img src=/images/icons/linkedin.svg width=20 height=20></img></a></li></ul><ul class="mx-auto pt-3"><p>&copy; 2023 <a class="navbar-text text-white" href=https://www.nwtime.org>Network Time Foundation</a></p></ul></div></nav></body></html>