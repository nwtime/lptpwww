<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=content-security-policy content="default-src 'self'; child-src 'self'; font-src 'self' https://fonts.gstatic.com; form-action 'self'; frame-src 'self'; img-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.google-analytics.com https://www.googletagmanager.com https://www.google.com https://cse.google.com https://encrypted-tbn0.gstatic.com https://encrypted-tbn3.gstatic.com 'data:'; object-src 'none'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cse.google.com https://www.google.com; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.google-analytics.com https://www.googletagmanager.com https://cse.google.com https://www.google.com https://www.clarity.ms;"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel=canonical href=https://linuxptp.nwtime.org/documentation/hwstamp_ctl/><meta property="og:title" content="hwstamp_ctl(8): set time stamping policy at the driver level"><meta property="og:description" content="Linux PTP man page to set time stamping policy at the driver level."><meta property="og:type" content="article"><meta property="og:url" content="https://linuxptp.nwtime.org/documentation/hwstamp_ctl/"><meta property="og:image" content="https://linuxptp.nwtime.org/images/featured.webp"><meta property="article:section" content="documentation"><meta property="article:published_time" content="2014-06-04T00:00:00+00:00"><meta property="article:modified_time" content="2014-06-04T00:00:00+00:00"><meta property="og:site_name" content="Linux PTP Project"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://linuxptp.nwtime.org/images/featured.webp"><meta name=twitter:title content="hwstamp_ctl(8): set time stamping policy at the driver level"><meta name=twitter:description content="Linux PTP man page to set time stamping policy at the driver level."><script>window.onload=demo;function demo(){document.getElementById("gsc-i-id1").setAttribute("placeholder","Search...")}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-3L2S4S3B0T"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-3L2S4S3B0T',{anonymize_ip:!0})</script><script type=text/javascript>(function(a,e,b,f,g,c,d){a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},c=e.createElement(f),c.async=1,c.src="https://www.clarity.ms/tag/"+g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d)})(window,document,"clarity","script","coqaee2wun")</script><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com/ crossorigin><link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,400i,700,800,800i,900i&display=swap" rel=stylesheet><title>hwstamp_ctl(8): set time stamping policy at the driver level</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Linux PTP man page to set time stamping policy at the driver level."><meta name=generator content="Hugo 0.83.1"><link rel=stylesheet href=/scss/nwtime.min.4076252e84f6b88920097824ca49d445.css media=screen></head><body><nav class="navbar navbar-expand-lg navbar-light"><div class=container-fluid><div><a class=navbar-brand href=https://www.nwtime.org><img height=80 width=80 src=https://linuxptp.nwtime.org/images/logo.png alt></a>
<a class=navbar-brand style=color:#1a79c0!important;font-size:18px;font-weight:700;margin-left:20px href=https://linuxptp.nwtime.org/>LinuxPTP Project</a></div><div><button class="btn btn-light btn-lg" type=button aria-expanded=false><a class=nav-item style=text-decoration:none;text-transform:uppercase href=https://linuxptp.nwtime.org/about/>About</a></button>
<button class="btn btn-light btn-lg" type=button aria-expanded=false><a class=nav-item style=text-decoration:none;text-transform:uppercase href=https://linuxptp.nwtime.org/install/>Install</a></button>
<button class="btn btn-light btn-lg" type=button aria-expanded=false><a class=nav-item style=text-decoration:none;text-transform:uppercase href=https://linuxptp.nwtime.org/getting-involved/>Getting Involved</a></button>
<button class="btn btn-light btn-lg" type=button aria-expanded=false><a class=nav-item style=text-decoration:none;text-transform:uppercase href=https://linuxptp.nwtime.org/documentation/>Documentation</a></button></div><script async src="https://cse.google.com/cse.js?cx=7474c4c5ca53f79ef"></script><div class=gcse-search></ul></div></nav><div class=header-border></div><section class="section pt-0 pb-auto"><div class=container><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://linuxptp.nwtime.org/documentation/>Documentation</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://linuxptp.nwtime.org/documentation/hwstamp_ctl/>hwstamp_ctl(8): set time stamping policy at the driver level</a></li></ol></nav><h3 id=hwstamp_ctl8-set-time-stamping-policy-at-the-driver-level>hwstamp_ctl(8): set time stamping policy at the driver level</h3><h4 id=synopsis>SYNOPSIS</h4><p><code>hwstamp_ctl -i <em>interface</em> [ -r <em>rx-filter</em> ] [ -t <em>tx-type</em> ]</code></p><h4 id=description>DESCRIPTION</h4><p><code>hwstamp_ctl</code> is a program used to set and get the hardware time stamping policy at the network driver level with the <code>SIOCSHWTSTAMP</code> ioctl(2). The <code>tx-type</code> and <code>rx-filter</code> values are hints to the driver what it is expected to do. If the requested fine-grained filtering for incoming packets is not supported, the driver may time stamp more than just the requested types of packets.</p><p>If neither <code>tx-type</code> nor <code>rx-filter</code> values are passed to the program, it will use the <code>SIOCGHWTSTAMP</code> ioctl(2) to non-destructively read the current hardware time stamping policy.</p><p>This program is a debugging tool. The <a href=/documentation/ptp4l/>ptp4l(8)</a> program does not need this program to function, it will set the policy automatically as appropriate.</p><h4 id=options>OPTIONS</h4><dl><dt><code><strong>-i <em>interface</em></strong></code></dt><dd><p>Specify the network interface of which the policy should be changed.</p></dd><dt><code><strong>-r <em>rx-filter</em></strong></code></dt><dd><p>Specify which types of incoming packets should be time stamped, <code>rx-filter</code> is an integer value.</p></dd><dt><code><strong>-t <em>tx-type</em></strong></code></dt><dd><p>Enable or disable hardware time stamping for outgoing packets, <code>tx-type</code> is an integer value.</p></dd><dt><code><strong>-h</strong></code></dt><dd><p>Display a help message and list of possible values for <code>rx-filter</code> and <code>tx-type</code>.</p></dd><dt><code><strong>-v</strong></code></dt><dd><p>Prints the software version and exits.</p></dd></dl><h4 id=see-also>SEE ALSO</h4><p>ioctl(2), <a href=/documentation/ptp4l/>ptp4l(8)</a></p></div></section><nav class="site-footer navbar navbar-expand-sm mt-auto"><div class=container><ul class=navbar-nav><li class=nav-item title="Mailing lists" aria-label="Mailing lists"><a class=nav-link target=_blank rel="noopener noreferrer" href=https://sourceforge.net/projects/linuxptp/lists/linuxptp-users><img src=/images/icons/envelope.svg width=20 height=20></img></a></li><li class=nav-item title=LinkedIn aria-label=LinkedIn><a class=nav-link target=_blank rel="noopener noreferrer" href=https://www.linkedin.com/groups/4683708/><img src=/images/icons/linkedin.svg width=20 height=20></img></a></li></ul><ul class="mx-auto pt-3"><p>&copy; 2023 <a class="navbar-text text-white" href=https://www.nwtime.org>Network Time Foundation</a></p></ul></div></nav></body></html>