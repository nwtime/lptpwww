<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=content-security-policy content="default-src 'self'; connect-src 'self'; child-src 'self'; font-src 'self' https://fonts.gstatic.com; form-action 'self'; frame-src 'self'; img-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.google-analytics.com https://www.googletagmanager.com https://www.google.com https://clients1.google.com https://www.googleapis.com https://cse.google.com https://encrypted-tbn0.gstatic.com https://encrypted-tbn3.gstatic.com https://c.clarity.ms; object-src 'none'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cse.google.com https://www.google.com; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.google-analytics.com https://www.googletagmanager.com https://cse.google.com https://www.google.com https://www.clarity.ms;"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel=canonical href=https://linuxptp.nwtime.org/documentation/nsm/><meta property="og:title" content="nsm(8): NetSync Monitor client"><meta property="og:description" content="Linux PTP man page for the NetSync Monitor client."><meta property="og:type" content="article"><meta property="og:url" content="https://linuxptp.nwtime.org/documentation/nsm/"><meta property="og:image" content="https://linuxptp.nwtime.org/images/featured.webp"><meta property="article:section" content="documentation"><meta property="article:published_time" content="2019-07-05T00:00:00+00:00"><meta property="article:modified_time" content="2019-07-05T00:00:00+00:00"><meta property="og:site_name" content="Linux PTP Project"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://linuxptp.nwtime.org/images/featured.webp"><meta name=twitter:title content="nsm(8): NetSync Monitor client"><meta name=twitter:description content="Linux PTP man page for the NetSync Monitor client."><script>window.onload=demo;function demo(){document.getElementById("gsc-i-id1").setAttribute("placeholder","Search...")}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-3L2S4S3B0T"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-3L2S4S3B0T',{anonymize_ip:!0})</script><script type=text/javascript>(function(a,e,b,f,g,c,d){a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},c=e.createElement(f),c.async=1,c.src="https://www.clarity.ms/tag/"+g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d)})(window,document,"clarity","script","coqaee2wun")</script><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com/ crossorigin><link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,400i,700,800,800i,900i&display=swap" rel=stylesheet><title>nsm(8): NetSync Monitor client</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Linux PTP man page for the NetSync Monitor client."><meta name=generator content="Hugo 0.83.1"><link rel=stylesheet href=/scss/nwtime.min.4076252e84f6b88920097824ca49d445.css media=screen></head><body><nav class="navbar navbar-expand-lg navbar-light"><div class=container-fluid><div><a class=navbar-brand href=https://www.nwtime.org><img height=80 width=80 src=https://linuxptp.nwtime.org/images/logo.png alt></a>
<a class=navbar-brand style=color:#1a79c0!important;font-size:18px;font-weight:700;margin-left:20px href=https://linuxptp.nwtime.org/>LinuxPTP Project</a></div><div><button class="btn btn-light btn-lg" type=button aria-expanded=false><a class=nav-item style=text-decoration:none;text-transform:uppercase href=https://linuxptp.nwtime.org/about/>About</a></button>
<button class="btn btn-light btn-lg" type=button aria-expanded=false><a class=nav-item style=text-decoration:none;text-transform:uppercase href=https://linuxptp.nwtime.org/install/>Install</a></button>
<button class="btn btn-light btn-lg" type=button aria-expanded=false><a class=nav-item style=text-decoration:none;text-transform:uppercase href=https://linuxptp.nwtime.org/getting-involved/>Getting Involved</a></button>
<button class="btn btn-light btn-lg" type=button aria-expanded=false><a class=nav-item style=text-decoration:none;text-transform:uppercase href=https://linuxptp.nwtime.org/documentation/>Documentation</a></button></div><script async src="https://cse.google.com/cse.js?cx=7474c4c5ca53f79ef"></script><div class=gcse-search></ul></div></nav><div class=header-border></div><section class="section pt-0 pb-auto"><div class=container><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://linuxptp.nwtime.org/documentation/>Documentation</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://linuxptp.nwtime.org/documentation/nsm/>nsm(8): NetSync Monitor client</a></li></ol></nav><h3 id=nsm8-netsync-monitor-client>nsm(8): NetSync Monitor client</h3><h4 id=synopsis>SYNOPSIS</h4><p><code>nsm [ -f <em>config</em> ] [ -i <em>interface</em> ] [ <em>long-options</em> ] [ command ] &mldr;</code></p><h4 id=description>DESCRIPTION</h4><p><code>nsm</code> is a program which implements a NetSync Monitor (NSM) client. NSM is an extension to the Precision Time Protocol (PTP), which enables a client to measure the offset of its clock against any PTP clock in the network which supports NSM. It uses unicast messages, but unlike PTP in the unicast mode it does not require the server to keep any state specific to the client. It is particularly useful for monitoring.</p><p>The program reads commands from the standard input or from the command line.</p><h4 id=commands>COMMANDS</h4><dl><dt><code><strong>NSM <em>address</em></strong></code></dt><dd><p>Send a NetSync Monitor request to the specified network address (IPv4 or MAC) and print the measured offset with the response.</p></dd><dt><code><strong>help</strong></code></dt><dd><p>Display a help message.</p></dd></dl><h4 id=options>OPTIONS</h4><dl><dt><code><strong>-f <em>config</em></strong></code></dt><dd><p>Read configuration from the specified file. No configuration file is read by default.</p></dd><dt><code><strong>-i <em>interface</em></strong></code></dt><dd><p>Specify the network interface.</p></dd><dt><code><strong>-h</strong></code></dt><dd><p>Display a help message.</p></dd><dt><code><strong>-v</strong></code></dt><dd><p>Print the software version and exit.</p></dd></dl><h4 id=long-options>LONG OPTIONS</h4><p>Each and every configuration file option (see below in sections <a href=#program-options>PROGRAM OPTIONS</a> and <a href=#port-options>PORT OPTIONS</a>) may also appear as a &ldquo;long&rdquo; style command line argument. For example, the <code>transportSpecific</code> option may be set using either of these two forms:</p><p><code>--transportSpecific 1</code></p><p><code>--transportSpecific=1</code></p><p>Option values given on the command line override values in the global section of the configuration file (which, in turn, overrides default values).</p><h4 id=configuration-file>CONFIGURATION FILE</h4><p>The configuration file is divided into sections. Each section starts with a line containing its name enclosed in brackets and it follows with settings. Each setting is placed on a separate line, it contains the name of the option and the value separated by whitespace characters. Empty lines and lines starting with <code>#</code> are ignored.</p><p>The global section (indicated as <code>[global]</code>) sets the global program options as well as the default port specific options. Other sections are port specific sections and they override the default port options. The name of the section is the name of the configured port (e.g. <code>[eth0]</code>).</p><h4 id=port-options>PORT OPTIONS</h4><dl><dt><code><strong>delayAsymmetry</strong></code></dt><dd><p>The time difference in nanoseconds of the transmit and receive paths. This value should be positive when the master-to-slave propagation time is longer and negative when the slave-to-master time is longer. The default is 0 nanoseconds.</p></dd><dt><code><strong>network_transport</strong></code></dt><dd><p>Select the network transport. Possible values are <code>UDPv4</code> and <code>L2</code>. The default is <code>UDPv4</code>.</p></dd><dt><code><strong>transportSpecific</strong></code></dt><dd><p>The transport specific field. Must be in the range 0 to 255. The default is 0.</p></dd></dl><h4 id=program-options>PROGRAM OPTIONS</h4><dl><dt><code><strong>domainNumber</strong></code></dt><dd><p>The domain attribute of the local clock. The default is 0.</p></dd><dt><code><strong>time_stamping</strong></code></dt><dd><p>The time stamping method. The allowed values are <code>hardware</code>, <code>software</code>, and <code>legacy</code>. The default is <code>hardware</code>.</p></dd></dl><h4 id=warning>WARNING</h4><p>Be cautious when the same configuration file is used for both <code>ptp4l</code> and <code>nsm</code>. Keep in mind that values specified in the configuration file take precedence over their default values. If a certain option which is common to <code>ptp4l</code> and <code>nsm</code> is specified to a non-default value in the configuration file (e.g. for <code>ptp4l</code>), then this non-default value applies also for <code>nsm</code>. This might be not what is expected.</p><p>To avoid securely this unexpected behaviour, different configuration files for <code>ptp4l</code> and <code>nsm</code> are recommended.</p><h4 id=see-also>SEE ALSO</h4><p><a href=/documentation/ptp4l/>ptp4l(8)</a></p></div></section><nav class="site-footer navbar navbar-expand-sm mt-auto"><div class=container><ul class=navbar-nav><li class=nav-item title="Mailing lists" aria-label="Mailing lists"><a class=nav-link target=_blank rel="noopener noreferrer" href=https://sourceforge.net/projects/linuxptp/lists/linuxptp-users><img src=/images/icons/envelope.svg width=20 height=20></img></a></li><li class=nav-item title=LinkedIn aria-label=LinkedIn><a class=nav-link target=_blank rel="noopener noreferrer" href=https://www.linkedin.com/groups/4683708/><img src=/images/icons/linkedin.svg width=20 height=20></img></a></li></ul><ul class="mx-auto pt-3"><p>&copy; 2023 <a class="navbar-text text-white" href=https://www.nwtime.org>Network Time Foundation</a></p></ul></div></nav></body></html>